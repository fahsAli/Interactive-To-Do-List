<div class="task-card" [attr.data-priority]="task.priority" cdkDrag>
    <ng-container *ngIf="!isEditing; else editForm">
      <h3>{{ task.title }}</h3>
      <p *ngIf="task.priority">Priority: {{ task.priority }}</p>
      <p *ngIf="task.due_date">Due: {{ task.due_date | date:'dd/MM/yyyy' }}</p>
      <button (click)="enableEditing()">Edit</button>
      <button (click)="deleteTask()">Delete</button>
    </ng-container>
  
    <ng-template #editForm>
      <input [(ngModel)]="editedTask.title" placeholder="Title" />
      <input [(ngModel)]="editedTask.priority" type="number" placeholder="Priority" min="0" />
      <input [(ngModel)]="editedTask.due_date" type="date" />
      <button (click)="saveTask()">Save</button>
      <button (click)="cancelEditing()">Cancel</button>
    </ng-template>
</div>
  